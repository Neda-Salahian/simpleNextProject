(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{3936:function(e,t,r){Promise.resolve().then(r.bind(r,9346))},9346:function(e,t,r){"use strict";r.r(t);var a=r(7437),n=r(2265);t.default=function(){let[e,t]=(0,n.useState)([]),[r,o]=(0,n.useState)(""),[c,l]=(0,n.useState)("");(0,n.useEffect)(()=>{!async function(){try{let e=await fetch("http://localhost:4000/products",{cache:"no-cache"});if(!e.ok)throw Error("Failed to fetch products");let r=await e.json();t(r)}catch(e){console.error("Error fetching products:",e)}}()},[]);let s=async e=>{e.preventDefault();let a={title:r,price:parseFloat(c)};try{if(!(await fetch("http://localhost:4000/products",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}})).ok)throw Error("Failed to add product");t(e=>[...e,{id:Date.now(),...a}]),o(""),l("")}catch(e){console.error("Error adding product:",e)}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("form",{className:"flex flex-col gap-5 max-w-xl bg-slate-800 rounded-md p-5 mx-auto",onSubmit:s,children:[(0,a.jsx)("input",{type:"text",name:"title",placeholder:"title",value:r,onChange:e=>o(e.target.value),className:"p-2 bg-slate-700 rounded-md outline-none",required:!0}),(0,a.jsx)("input",{type:"number",name:"price",placeholder:"price",value:c,onChange:e=>l(e.target.value),className:"p-2 bg-slate-700 rounded-md outline-none",required:!0}),(0,a.jsx)("button",{className:"p-2 bg-slate-900",type:"submit",children:"Add Product"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-5 max-w-xl justify-center rounded-md p-5 mx-auto",children:e.map(e=>(0,a.jsxs)("div",{className:"p-5 bg-slate-700 rounded-md text-center",children:[(0,a.jsx)("p",{children:e.title}),(0,a.jsx)("p",{children:e.price})]},e.id))})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=3936)}),_N_E=e.O()}]);